<lift:surround with="menu/menu-node" at="content">

<head>
<title>Rudder - New Nodes Management</title>
</head>

<div class="portlet">
 <div class="portlet-header">Accept new nodes</div>
 <div class="portlet-content">
 <div class="intro">
  <div>Accept or Refuse Nodes in your infrastructure that have presented themselves for the first time to Rudder with an inventory report.
  </div>
 </div>
   
  <lift:node.AcceptNode.head />
  <hr class="spacer"/>
  <div id="new_servers_tab" class="tabs">
     <ul>
        <li><a href="#review_new_server">Review new nodes</a></li>
        <li><a href="#history">History</a></li>
     </ul> 
    
    <div id="review_new_server">
      <div class="tabInform">
      <p>Review new nodes and accept or refuse them.</p>
      <p>Click on a node name to access its full inventory information.</p>
      <p>Click on <img src="images/icPolicies.jpg"/> to list Rules that will be applied to this node after validation.</p>
      </div>
      <lift:ignore>
        The template for the table can be found at 
        templates-hidden/server_grid
        It is enhanced with a "select" column
      </lift:ignore>
      <div class="err"><lift:Msgs>[error]</lift:Msgs></div>
      <lift:node.AcceptNode.list>
        <pending:selectall/>
          <br/>
        <pending:servers/>
        
        <div id="acceptNodeGrid_paginate_area" class="nodisplay"/>
        
        <lift:authz role="node_write">
        <p class="bottomButton rmargin">
          <span><pending:accept/></span>
          <span class="nserverrmargin"><pending:refuse/></span>
        </p>
        </lift:authz>
        <pending:errors/>
      
      </lift:node.AcceptNode.list>
    </div>
    <div id="history">
     <div class="tabInform">
      <p>View History of Nodes validation.</p>
      <p>Click on a node name to display full inventory information at review time.</p>
     </div>    
    <lift:node.PendingHistoryGrid.displayAndInit>
      <pending:history/>
    </lift:node.PendingHistoryGrid.displayAndInit>
    </div>
  </div>
  <div id="manageNewNode"/>
  <lift:ignore>
  This div gets a popup injected within
  </lift:ignore>

  <div id="expectedPolicyZone"/>
  <lift:ignore>
  This div gets a popup injected within
  </lift:ignore>
  
 </div>
</div>
  
</lift:surround>

