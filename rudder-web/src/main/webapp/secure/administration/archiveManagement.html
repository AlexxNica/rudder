<lift:surround with="menu/menu-administration" at="content">

<head>
<title>Rudder - Policy Node Management</title>
<style>
<!--
  .archiveAction {
    display: inline-block;
  }
  
  .archiveAction .ui-button {
    width: 180px;
  }
  
  .deca {
    text-align: center;
  }

  .deca select {
    width: 180px;
  }
-->
</style>

<script>
//<![CDATA[
  function enableIfNonEmpty(selectId, buttonId) { 
    $("#"+selectId).change(function () {
      $("#" + selectId + " option:selected").each(function () {
        if($(this).text() != "Choose an archive to restore...") {
          $("#"+buttonId).prop("disabled", false);
          $("#"+buttonId).removeClass("ui-button-disabled ui-state-disabled");
          $("#"+buttonId).addClass("ui-state-default");
        } else {
          $("#"+buttonId).prop("disabled", true);
          $("#"+buttonId).addClass("ui-button-disabled ui-state-disabled");
          $("#"+buttonId).removeClass("ui-state-default");
        }
      })
    })
  }
//]]>  
</script>

</head>

<div class="portlet">
  <div class="portlet-header">Global archive management</div>
  <div class="portlet-content"> 
    <div class="intro">
      <div>
        This widget allows to manage groups, policies (templates and instances) and configuration rules archive at ounce. 
        You can make new archives of the state of Rudder, and restore archive chosen by date.
      </div>
    </div>
    
    <hr class="spacer"/>
    
    <div class="deca">
      <span class="lift:administration.Archives.allForm archiveAction" id="allForm">
        <form class="lift:form.ajax">
          <br/>
          <input id="exportAllButton" type="submit" value="[Export ALL]"/> 
          <br/>
          <br/>
          <select id="importAllSelect">
            <option>2011-10-08 21:21:21</option>
            <option>2011-10-09 21:21:21</option>
            <option>2011-10-10 21:21:21</option>
            <option>2011-10-11 21:21:21</option>
          </select>
          <input id="importAllButton" type="submit" value="[Importt ALL]"/> 
          <br/>
          <lift:msg id="allFormNotice" errorClass="error">[error]</lift:msg>
          <br/>
        </form>
      </span>
    </div>
  </div>
  <br/>
</div>

<div class="column">
  <div class="portlet">
    <div class="portlet-header">Configuration rules archives management</div>
    <div class="portlet-content"> 
     
      <div class="intro">
        <div>
          This widget allows to create new configuration rules archives and restore archive chosen by date.
        </div>
      </div>
  
      <hr class="spacer"/>
      <div class="deca">
      
        <div class="lift:administration.Archives.rulesForm archiveAction" id="rulesForm">
          <form class="lift:form.ajax">
            <br/>
            <input id="exportRulesButton" type="submit" value="[Export CR]"/> 
            <br/>
            <br/>
            <select id="importRulesSelect">
              <option>2011-10-08 21:21:21</option>
              <option>2011-10-09 21:21:21</option>
              <option>2011-10-10 21:21:21</option>
              <option>2011-10-11 21:21:21</option>
            </select>
            <input id="importRulesButton" type="submit" value="[Import CR]"/> 
            <br/>
            <lift:msg id="rulesFormNotice" errorClass="error">[error]</lift:msg>
            <br/>
          </form>
        </div>
      </div>
    </div>
    <br/>
  </div>
  
        
  <div class="portlet">
    <div class="portlet-header">Policy library archives management</div>
    <div class="portlet-content"> 
     
      <div class="intro">
        <div>
          This widget allows to create new policy library archives and restore archive chosen by date.
        </div>
      </div>
  
      <hr class="spacer"/>
      <div class="deca">
        <div class="lift:administration.Archives.policyLibraryForm archiveAction" id="policyLibraryForm">
          <form class="lift:form.ajax">
            <br/>
            <input id="exportTechniqueLibraryButton" type="submit" value="[Export TechniqueLibrary]"/> 
            <br/>
            <br/>
            <select id="importTechniqueLibrarySelect">
              <option>2011-10-08 21:21:21</option>
              <option>2011-10-09 21:21:21</option>
              <option>2011-10-10 21:21:21</option>
              <option>2011-10-11 21:21:21</option>
            </select>
            <input id="importTechniqueLibraryButton" type="submit" value="[Import TechniqueLibrary]"/> 
            <br/>
            <lift:msg id="policyLibraryFormNotice" errorClass="error">[error]</lift:msg>
            <br/>
          </form>
        </div>
      </div>
    </div>
    <br/>
  </div>
</div>

<div class="column">
  <div class="portlet">
    <div class="portlet-header">Groups archives management</div>
    <div class="portlet-content"> 
     
      <div class="intro">
        <div>
          This widget allows to create new configuration rules archivesand restore archive chosen by date.
        </div>
      </div>
  
      <hr class="spacer"/>
      <div class="deca">
        <div class="lift:administration.Archives.groupLibraryForm archiveAction" id="groupLibraryForm">
          <form class="lift:form.ajax">
            <br/>
            <input id="exportGroupLibraryButton" type="submit" value="[Export GroupLibrary]"/> 
            <br/>
            <br/>
            <select id="importGroupLibrarySelect">
              <option>2011-10-08 21:21:21</option>
              <option>2011-10-09 21:21:21</option>
              <option>2011-10-10 21:21:21</option>
              <option>2011-10-11 21:21:21</option>
            </select>
            <input id="importGroupLibraryButton" type="submit" value="[Import GroupLibrary]"/> 
            <br/>
            <lift:msg id="groupLibraryFormNotice" errorClass="error">[error]</lift:msg>
            <br/>
          </form>
        </div>
      </div>
    </div>
    <br/>
  </div>
</div>
</lift:surround>

